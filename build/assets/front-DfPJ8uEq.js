document.getElementById("year").textContent=new Date().getFullYear();document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(o){o.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})})});document.querySelectorAll("img").forEach(e=>{e.addEventListener("load",()=>{e.classList.remove("loading")})});const r=document.querySelector(".scroll-top");window.addEventListener("scroll",()=>{window.scrollY>500?r.classList.add("visible"):r.classList.remove("visible")});r.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const n={threshold:.1,rootMargin:"0px 0px -50px 0px"},c=new IntersectionObserver(e=>{e.forEach(o=>{o.isIntersecting&&(o.target.style.opacity="1",o.target.style.transform="translateY(0)")})},n);document.querySelectorAll("section").forEach(e=>{e.style.opacity="0",e.style.transform="translateY(20px)",e.style.transition="opacity 0.6s ease, transform 0.6s ease",c.observe(e)});const a=document.querySelector("[data-language-trigger]"),s=document.querySelector("[data-language-dropdown]");if(a&&s){const e=()=>{s.classList.contains("active")?(s.classList.remove("active"),a.setAttribute("aria-expanded","false")):(s.classList.add("active"),a.setAttribute("aria-expanded","true"))},o=()=>{s.classList.remove("active"),a.setAttribute("aria-expanded","false")};a.addEventListener("click",t=>{t.stopPropagation(),e()}),document.addEventListener("click",t=>{!a.contains(t.target)&&!s.contains(t.target)&&o()}),document.addEventListener("keydown",t=>{t.key==="Escape"&&s.classList.contains("active")&&o()})}
